# $FreeBSD$

PROG = config

SRCS = \
	cconfig.y \
	main.c \
	lang.l \
	mkmakefile.c \
	mkheaders.c \
	mkoptions.c \
	kernconf.c

WARNS ?= 6

CFLAGS+= -I. -I${.CURDIR}

LDADD += -ll -lsbuf

cconfig.y : config.y
	cp ${.ALLSRC} ${.TARGET}

kernconf.c: kernconf.tmpl
	file2c 'char kernconfstr[] = {' ',0};' < ${.ALLSRC} > ${.TARGET}

DIRDEP= gnu/lib/csu gnu/lib/libgcc include lib/csu/MACHINE_ARCH lib/libc lib/libsbuf stage sys/MACHINE_ARCH/include sys/sys usr.bin/lex/lib
.include <bsd.prog.mk>
