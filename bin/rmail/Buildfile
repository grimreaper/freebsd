# $FreeBSD$

SENDMAIL_DIR = ${BSDSRCTOP}/contrib/sendmail

.PATH:	${SENDMAIL_DIR}/rmail

# Not much point this being static. It calls a shared sendmail...
NO_SHARED ?= NO

PROG = rmail

WARNS ?= 0

CFLAGS += -I${SENDMAIL_DIR}/include -I.

LDADD += -lsm

GENHDRS += sm_os.h

# User customizations to the sendmail build environment
CFLAGS += ${SENDMAIL_CFLAGS}
LDADD += ${SENDMAIL_LDADD}
LDFLAGS += ${SENDMAIL_LDFLAGS}

# If you want to have your rmail queuing the mail only, uncomment the
# following:
# CFLAGS+= -DQUEUE_ONLY

sm_os.h:
	cp ${SENDMAIL_DIR}/include/sm/os/sm_os_freebsd.h ${.TARGET}

SRCDIRDEP= contrib/sendmail/include/sendmail contrib/sendmail/include/sm contrib/sendmail/include/sm/os contrib/sendmail/rmail
DIRDEP= gnu/lib/csu gnu/lib/libgcc include include/machine include/osreldate lib/csu/MACHINE_ARCH lib/libc lib/libsm lib/libutil stage sys/MACHINE_ARCH/include sys/sys
.include <bsd.prog.mk>
